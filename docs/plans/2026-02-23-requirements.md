# 要件定義書: lang-version-vocab

**作成日:** 2026-02-23
**ステータス:** 実装済み（レトロスペクティブ文書）

---

## 1. プロジェクト概要

### 1.1 背景

プログラミング言語は継続的にバージョンアップされ、新しい構文・API・概念が追加される。しかし、各バージョンで追加された用語を体系的に把握できるリソースは少なく、公式ドキュメントを個別に確認する必要がある。

### 1.2 目的

- プログラミング言語のバージョンごとの用語（構文・API・概念）を自動収集する
- タイムライン形式で閲覧できるWebビューアを提供する
- 言語の全体像（特性・概念・用語の階層構造）を可視化する
- 学習ロードマップにより効率的な学習順序を提示する

### 1.3 対象ユーザー

- プログラミング言語の新バージョンの変更点を把握したい開発者
- 言語の全体像を体系的に理解したい学習者
- 特定バージョンで追加された機能を素早く検索したい開発者

---

## 2. 用語定義

| 用語 | 定義 |
|---|---|
| 特性（Characteristic） | 言語の根幹をなす設計上の特徴。例: 動的型付け、プロトタイプベースOOP |
| 概念（Concept） | 特性から派生する中間レベルの概念。例: クロージャ、プロトタイプチェーン |
| 用語（Term） | 特定バージョンで追加された構文・API。例: Arrow Functions、Optional Chaining |
| 3層階層 | 特性 → 概念 → 用語の階層関係。学習パスの自動生成に使用 |

---

## 3. 機能要件

### FR-1: 用語データの自動収集

- 公式ドキュメントからバージョンごとの用語を自動スクレイピングする
- 各用語について以下の情報を収集する:
  - 英語名（term）
  - 日本語名（termJa）
  - 種別（type: syntax / api / concept / deprecation）
  - カテゴリ（category）
  - 意味（meaning）
  - コード例（example）
  - タグ（tags）
  - ソースURL（sourceUrl）
- 定期的に自動実行し、データを最新に保つ

### FR-2: 言語概要データの収集

- 各言語について特性（5件）と概念（10件）を収集する
- 特性→概念→用語の3層リンク構造を構築する
- 言語の概要説明（description）を収集する

### FR-3: バージョン履歴の閲覧

- 言語を選択し、バージョン別にグループ化された用語一覧を表示する
- 各バージョンのリリース日と用語数を表示する
- タイムライン形式（縦方向）で表示する

### FR-4: 検索・フィルタ

- テキスト検索: 英語名・日本語名・意味を横断検索する
- タイプフィルタ: syntax / api / concept / deprecation で絞り込む
- 言語切替: 対応言語を切り替える

### FR-5: 言語概要の表示

- 言語特性をカード形式で表示する
- 概念をカード形式で表示し、親特性との関連を示す
- 特性カードから関連概念へのスクロールナビゲーション
- 概念カードから関連用語（バージョン履歴タブ）へのジャンプナビゲーション

### FR-6: 学習パスの表示

- 3層階層データから学習ロードマップを自動生成する
- ツリー構造で特性→概念→用語の学習順序を表示する
- 初心者モード: 全ノード展開。基礎から順に学べる
- 経験者モード: 特性を折りたたみ。概念→用語を中心に表示
- ノードクリックで該当タブの該当カードにジャンプする

### FR-7: タブナビゲーション

- 3タブ構成: 言語概要 / 学習パス / バージョン履歴
- タブ間のジャンプナビゲーション（スムーススクロール＋ハイライト）

---

## 4. 非機能要件

### NFR-1: パフォーマンス

- ビューアは静的サイトとして配信し、サーバーサイド処理不要とする
- JSONデータをビルド時にバンドルし、APIリクエストなしで即時表示する

### NFR-2: 可用性

- GitHub Pages でホスティングし、高可用性を確保する
- スクレイパーの失敗がビューアの表示に影響しないこと（データは前回成功分を保持）

### NFR-3: 保守性

- スクレイパーは言語ごとに独立したクラスとし、新言語追加を容易にする
- フロントエンドはVue 3の単一ファイルコンポーネントで構成し、機能単位で分離する
- データ形式はJSONとし、スクレイパーとビューアの結合を疎にする

### NFR-4: スクレイピングの安全性

- リクエスト間に200〜500msの遅延を設ける
- リトライは最大3回、指数バックオフで実施する
- スクレイピング失敗時はフォールバックデータを使用する

### NFR-5: 自動化

- スクレイピングは毎週月曜3:00 UTCに自動実行する
- データ更新がある場合のみコミット・プッシュする
- mainブランチへのプッシュで自動デプロイする

---

## 5. 対象言語

| 言語 | データソース | バージョン範囲 |
|---|---|---|
| JavaScript | MDN Web Docs | ES2015〜ES2024 |
| Java | Oracle Documentation | Java 8, 9, 11, 17, 21, 23 |
| jQuery | api.jquery.com | 1.0〜3.7 |

---

## 6. 制約事項

### 技術制約

- フロントエンドはVue 3 + Viteのみ。外部UIライブラリは使用しない
- スクレイパーはNode.js + cheerioのみ。ヘッドレスブラウザは使用しない
- データ形式はJSONファイルのみ。データベースは使用しない

### 運用制約

- ホスティングはGitHub Pagesに限定（サブディレクトリ `/lang-version-vocab/`）
- CI/CDはGitHub Actionsに限定
- スクレイピング対象は公式ドキュメントに限定
- ドキュメント・コミットメッセージは日本語対応（Conventional Commits形式）
